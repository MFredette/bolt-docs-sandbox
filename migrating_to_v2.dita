<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE concept PUBLIC "-//PUPPET//DTD DITA Puppet Concept//EN" "concept.dtd">
<concept id="migrating-to-v2" class="- topic/topic concept/concept "><title class="- topic/title ">Migrating to version 2</title><shortdesc class="- topic/shortdesc ">Version 2 of the inventory file changes some terms and syntax. To convert to version 2, you must make these changes. </shortdesc><prolog class="- topic/prolog "><author translate="no" type="creator" class="- topic/author ">Melissa Amos &lt;melissa.amos@puppet.com&gt;</author></prolog><conbody class="- topic/body  concept/conbody "><p class="- topic/p "><b class="+ topic/ph hi-d/b "><codeph class="+ topic/ph pr-d/codeph ">version: 2</codeph></b></p><p class="- topic/p ">The default version for inventory files is version 1. In order to have <ph conkeyref="ProductNames/bolt" class="- topic/ph "/> treat your inventory file as a version 2 inventory, specify <codeph class="+ topic/ph pr-d/codeph ">version: 2</codeph> at the top level.</p><p class="- topic/p "><b class="+ topic/ph hi-d/b "><codeph class="+ topic/ph pr-d/codeph ">nodes</codeph> =&gt; <codeph class="+ topic/ph pr-d/codeph ">targets</codeph></b></p><p class="- topic/p ">In order to standardize terminology across <ph conkeyref="ProductNames/bolt" class="- topic/ph "/> and capture the breadth of possible targets, such as web services, version 2 of the inventory file uses the <codeph class="+ topic/ph pr-d/codeph ">targets</codeph> section of a group to specify its members instead of <codeph class="+ topic/ph pr-d/codeph ">nodes</codeph>.</p><p class="- topic/p "><b class="+ topic/ph hi-d/b "><codeph class="+ topic/ph pr-d/codeph ">name</codeph> =&gt; <codeph class="+ topic/ph pr-d/codeph ">uri</codeph></b></p><p class="- topic/p ">Changing the <codeph class="+ topic/ph pr-d/codeph ">name</codeph> key to <codeph class="+ topic/ph pr-d/codeph ">uri</codeph> results in an inventory file that matches the behavior of version 1.</p><p class="- topic/p ">In version 1 of the inventory file, <ph conkeyref="ProductNames/bolt" class="- topic/ph "/> treated the <codeph class="+ topic/ph pr-d/codeph ">name</codeph> field of a node as its URI. This made it impossible to specify a <codeph class="+ topic/ph pr-d/codeph ">name</codeph> that did not include the hostname of a target, which proved limiting for remote targets. In version 2, the optional <codeph class="+ topic/ph pr-d/codeph ">uri</codeph> field sets the URI for a target. Any connection information from the URI, such as a user specified by <userinput class="+ topic/ph sw-d/userinput ">user@uri</userinput> can't be overridden with other configuration methods. If the <codeph class="+ topic/ph pr-d/codeph ">uri</codeph> is set, it's used as the default value for the <codeph class="+ topic/ph pr-d/codeph ">name</codeph> key. Every target requires a <codeph class="+ topic/ph pr-d/codeph ">name</codeph>, so either the <codeph class="+ topic/ph pr-d/codeph ">name</codeph> or <codeph class="+ topic/ph pr-d/codeph ">uri</codeph> field must be set.</p><p class="- topic/p ">If there is a bare string in the target's array, <ph conkeyref="ProductNames/bolt" class="- topic/ph "/> tries to resolve the string to a target defined elsewhere in the inventory. If no target has a name or alias matching the string, <ph conkeyref="ProductNames/bolt" class="- topic/ph "/> creates a new target with the string as its URI.</p></conbody></concept>