<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="copyright" content="(C) Copyright 2019"><meta name="DC.rights.owner" content="(C) Copyright 2019"><meta name="DC.type" content="topic"><meta name="DC.relation" scheme="URI" content="bolt_release_notes.html"><meta name="DC.creator" content="Jean Bond <jean@puppet.com\&gt;"><meta name="DC.format" content="HTML5"><meta name="DC.identifier" content="new-features"><link rel="stylesheet" type="text/css" href="commonltr.css"><title>New features</title></head><body id="new-features"><main role="main"><article role="article" aria-labelledby="ariaid-title1"><h1 class="title topictitle1" id="ariaid-title1">New features</h1><div class="body"><p class="p">New features added to Bolt in the 1.x release series.</p></div><nav role="navigation" class="related-links"><div class="familylinks"><div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="bolt_release_notes.html">Bolt release notes</a></div></div></nav><article class="topic nested1" aria-labelledby="ariaid-title2" id="options-for-pcp-transport-now-configurable-in-boltyaml-1260"><h2 class="title topictitle2" id="ariaid-title2">Options for PCP transport now configurable in bolt.yaml \(1.26.0\)</h2><div class="body"><p class="p">The <code class="ph codeph">job-poll-timeout</code> and <code class="ph codeph">job-poll-interview</code> options for the <code class="ph codeph">PCP</code> transport are now configurable in bolt.yaml. \(<a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-1425" target="_blank">BOLT-1425</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title3" id="task-plugin-improvements-1260"><h2 class="title topictitle2" id="ariaid-title3">Task plugin improvements \(1.26.0\)</h2><div class="body"><p class="p">The <code class="ph codeph">task</code> plugin now enables you to run a task to discover targets or look up configuration information in the version 2 inventory file. \(<a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-1408" target="_blank">BOLT-1408</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title4" id="ability-to-see-nodes-in-an-inventory-group-1260"><h2 class="title topictitle2" id="ariaid-title4">Ability to see nodes in an inventory group \(1.26.0\)</h2><div class="body"><p class="p">You can now see what nodes a Bolt command acts on using the <code class="ph codeph">bolt inventory show</code> subcommand. Pass a targeting option, such as <code class="ph codeph">-n node1,node2</code>, <code class="ph codeph">-n groupname</code>, <code class="ph codeph">-q query</code>, <code class="ph codeph">--rerun</code>, and other targeting options to specify which nodes to list. \(<a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-1398" target="_blank">BOLT-1398</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title5" id="support-for-an-apply-step-1260"><h2 class="title topictitle2" id="ariaid-title5">Support for an apply step \(1.26.0\)</h2><div class="body"><p class="p">Yaml plans now support applying Puppet resources with a <code class="ph codeph">resources</code> step. \(<a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-1222" target="_blank">BOLT-1222</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title6" id="help-text-only-lists-options-for-a-given-command-1240"><h2 class="title topictitle2" id="ariaid-title6">Help text only lists options for a given command \(1.24.0\)</h2><div class="body"><p class="p">Help text now only shows options for the specified subcommand and action. Previously, all options were displayed in the help text, even if those options did not apply to the specified subcommand and action. \(<a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-1342" target="_blank">BOLT-1342</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title7" id="packages-for-fedora-30-1240"><h2 class="title topictitle2" id="ariaid-title7">Packages for Fedora 30 \(1.24.0\)</h2><div class="body"><p class="p">Bolt packages are now available for Fedora 30. \(<a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-1302" target="_blank">BOLT-1302</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title8" id="adds-support-for-embedding-eyaml-data-in-the-inventory-1240"><h2 class="title topictitle2" id="ariaid-title8">Adds support for embedding eyaml data in the inventory \(1.24.0\)</h2><div class="body"><p class="p">This change adds a hiera-eyaml compatible pkcs7 plugin and support for embedding eyaml data in the inventory. \(<a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-1270" target="_blank">BOLT-1270</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title9" id="allow-nodes-as-positional-arg-for-run-plan-1240"><h2 class="title topictitle2" id="ariaid-title9">Allow <code class="ph codeph">$nodes</code> as positional arg for <code class="ph codeph">run_plan()</code> \(1.24.0\)</h2><div class="body"><p class="p">This change allows the <code class="ph codeph">run_plan()</code> function to be invoked with <code class="ph codeph">$nodes</code> as the second positional argument, so that it can be used the same way <code class="ph codeph">run_task()</code> is used. \(<a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-1197" target="_blank">BOLT-1197</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title10" id="catch-errors-function-1230"><h2 class="title topictitle2" id="ariaid-title10"><code class="ph codeph">catch_errors</code> function \(1.23.0\)</h2><div class="body"><p class="p">The new plan function, <code class="ph codeph">catch_errors</code>, accepts a list of types of errors to catch and a block of code to run where, if it errors, the plan continues executing. \(<a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-1316" target="_blank">BOLT-1316</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title11" id="forge-baseurl-setting-in-puppetfile-config-1230"><h2 class="title topictitle2" id="ariaid-title11">Forge <code class="ph codeph">baseurl</code> setting in <code class="ph codeph">puppetfile</code> config \(1.23.0\)</h2><div class="body"><p class="p">The <code class="ph codeph">puppetfile</code> config section now supports a Forge subsection that you can use to set an alternate Forge location from which to download modules. \(<a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-1376" target="_blank">BOLT-1376</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title12" id="proxy-configuration-1220"><h2 class="title topictitle2" id="ariaid-title12">Proxy configuration \(1.22.0\)</h2><div class="body"><p class="p">You can now specify an HTTP proxy for <code class="ph codeph">bolt puppetfile install</code> in <code class="ph codeph">bolt.yaml</code>, for example:</p><pre class="pre codeblock"><code>puppetfile: 
  proxy: https://proxy.example.com</code></pre><p class="p">\(<a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-1327" target="_blank">BOLT-1327</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title13" id="support-for-version-4-terraform-state-files-1220"><h2 class="title topictitle2" id="ariaid-title13">Support for version 4 Terraform state files \(1.22.0\)</h2><div class="body"><p class="p">Target-lookups using the Terraform plugin are now compatible with the version 4 Terraform state files generated by Terraform version 0.12.x. \(<a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-1341" target="_blank">BOLT-1341</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title14" id="prompt-for-sensitive-data-from-inventory-v2-1220"><h2 class="title topictitle2" id="ariaid-title14">Prompt for sensitive data from inventory v2 \(1.22.0\)</h2><div class="body"><p class="p">A new <code class="ph codeph">prompt</code> plugin in inventory v2 allows setting configuration values via a prompt. \(<a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-1269" target="_blank">BOLT-1269</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title15" id="set-custom-exec-commands-for-docker-transport-1210"><h2 class="title topictitle2" id="ariaid-title15">Set custom exec commands for Docker transport \(1.21.0\)</h2><div class="body"><p class="p">New configuration options,&nbsp;<code class="ph codeph">shell-command</code>&nbsp;and&nbsp;<code class="ph codeph">tty</code>, for the Docker transport allow setting custom Docker exec commands.</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title16" id="check-existence-and-readability-of-files-1210"><h2 class="title topictitle2" id="ariaid-title16">Check existence and readability of files \(1.21.0\)</h2><div class="body"><p class="p">New functions, <code class="ph codeph">file::exists</code> and <code class="ph codeph">file::readable</code>, test whether a given file exists and is readable, respectively. \(<a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-1338" target="_blank">BOLT-1338</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title17" id="output-a-message-1210"><h2 class="title topictitle2" id="ariaid-title17">Output a message \(1.21.0\)</h2><div class="body"><p class="p">The new <code class="ph codeph">out::message()</code> function can be used to print a message to the user during a plan. \(<a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-1325" target="_blank">BOLT-1325</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title18" id="return-a-filtered-resultset-with-a-resultset-1210"><h2 class="title topictitle2" id="ariaid-title18">Return a filtered <code class="ph codeph">ResultSet</code> with a <code class="ph codeph">ResultSet</code> \(1.21.0\)</h2><div class="body"><p class="p">A new <code class="ph codeph">filter_set</code> function in the <code class="ph codeph">ResultSet</code> data type filters a <code class="ph codeph">ResultSet</code> with a lambda to return a <code class="ph codeph">ResultSet</code> object. \(<a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-1337" target="_blank">BOLT-1337</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title19" id="improved-error-handling-for-unreadable-private-keys-1210"><h2 class="title topictitle2" id="ariaid-title19">Improved error handling for unreadable private keys \(1.21.0\)</h2><div class="body"><p class="p">A more specific warning is now surfaced when an SSH private key can't be read from Bolt configuration. \(<a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-1297" target="_blank">BOLT-1297</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title20" id="look-up-puppetdb-facts-in-inventory-v2-1210"><h2 class="title topictitle2" id="ariaid-title20">Look up PuppetDB facts in inventory v2 \(1.21.0\)</h2><div class="body"><p class="p">The PuppetDB plugin can now be used to look up configuration values from PuppetDB facts for the <code class="ph codeph">name</code>, <code class="ph codeph">uri</code>, and <code class="ph codeph">config</code> inventory options for each target. \(<a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-1264" target="_blank">BOLT-1264</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title21" id="terraform-plugin-in-inventory-v2-1200"><h2 class="title topictitle2" id="ariaid-title21">Terraform plugin in inventory v2 \(1.20.0\)</h2><div class="body"><p class="p">A new plugin in inventory v2 loads Terraform state and map resource properties to target parameters. This plugin enables using a Terraform projectto dynamically determine the targets to use when running Bolt. \(<a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-1265" target="_blank">BOLT-1265</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title22" id="type-info-available-in-plans-1200"><h2 class="title topictitle2" id="ariaid-title22">Type info available in plans \(1.20.0\)</h2><div class="body"><p class="p">A new <code class="ph codeph">to_data</code> method is available for plan result objects that provides a hash representation of the object. \(<a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-1223" target="_blank">BOLT-1223</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title23" id="improved-logging-for-apply-1200"><h2 class="title topictitle2" id="ariaid-title23">Improved logging for <code class="ph codeph">apply</code> \(1.20.0\)</h2><div class="body"><p class="p">The Bolt apply command and the <code class="ph codeph">apply</code> function from plans now show log messages for changes and failures that happened while applying Puppet code. \(<a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-901" target="_blank">BOLT-901</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title24" id="convert-yaml-plans-to-puppet-plans-1190"><h2 class="title topictitle2" id="ariaid-title24">Convert YAML plans to Puppet plans \(1.19.0\)</h2><div class="body"><p class="p">You can now convert YAML plans to Puppet plans with the <code class="ph codeph">bolt plan convert</code> command. \(<a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-1195" target="_blank">BOLT-1195</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title25" id="improved-error-handling-for-missing-commands-1190"><h2 class="title topictitle2" id="ariaid-title25">Improved error handling for missing commands \(1.19.0\)</h2><div class="body"><p class="p">A clear error message is now shown when no object is specified on the command line, for example <code class="ph codeph">bolt command run --nodes &lt;NODE_NAME&gt;</code>. \(<a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-1243" target="_blank">BOLT-1243</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title26" id="inventory-file-version-2-1180"><h2 class="title topictitle2" id="ariaid-title26">Inventory file version 2 \(1.18.0\)</h2><div class="body"><p class="p">An updated version of the inventory file, <a class="xref" href="inventory_file_v2.html">version 2</a>, is now available for experimentation and testing. In addition to several syntax changes, this version enables setting a human readable name for nodes and dynamically populating groups from PuppetDB queries. This version of the inventory file is still in development and might experience breaking changes in future releases. \( <a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-1232" target="_blank">BOLT-1232</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title27" id="yaml-plan-validation-1180"><h2 class="title topictitle2" id="ariaid-title27">YAML plan validation \(1.18.0\)</h2><div class="body"><p class="p">YAML plan validation now alerts on syntax errors before plan execution. \(<a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-1194" target="_blank">BOLT-1194</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title28" id="rerun-failed-commands-1170"><h2 class="title topictitle2" id="ariaid-title28">Rerun failed commands \(1.17.0\)</h2><div class="body"><p class="p">Bolt now stores information about the last failed run in a <code class="ph codeph">.rerun.json</code> file in the Bolt project directory. You can use this record to target nodes for the next run using <code class="ph codeph">--retry failure</code> instead of <code class="ph codeph">--nodes</code>.</p><p class="p">For repositories that contain a Bolt project directory, add <code class="ph codeph">$boltdir/.last_failure.json</code> to <code class="ph codeph">.gitignore</code> files.</p><p class="p">Stored information may include passwords, so if you save passwords in URIs, set <code class="ph codeph">save-failures: false</code> in your Bolt config file to avoid writing passwords to the <code class="ph codeph">.rerun.json</code> file. \( <a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-843" target="_blank">BOLT-843</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title29" id="packaged-hiera-eyaml-gem-1160"><h2 class="title topictitle2" id="ariaid-title29">Packaged <code class="ph codeph">hiera-eyaml</code> gem \(1.16.0\)</h2><div class="body"><p class="p">Bolt packages now include the <code class="ph codeph">hiera-eyaml</code> gem. \( <a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-1026" target="_blank">BOLT-1026</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title30" id="local-transport-options-for-run-as-run-as-command-and-sudo-password-1160"><h2 class="title topictitle2" id="ariaid-title30">Local transport options for <code class="ph codeph">run-as</code>, <code class="ph codeph">run-as-command</code>, and <code class="ph codeph">sudo-password</code> \(1.16.0\)</h2><div class="body"><p class="p">The local transport now accepts the <code class="ph codeph">run-as</code>, <code class="ph codeph">run-as-command</code>, and <code class="ph codeph">sudo-password</code> options on non-Windows nodes. These options escalate the system user \(who ran <code class="ph codeph">bolt</code>\) to the specified user, and behave like the same options using the SSH transport. <code class="ph codeph">_run_as</code> can also be configured for individual plan function calls for the local transport. \( <a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-1052" target="_blank">BOLT-1052</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title31" id="localhost-target-applies-the-puppet-agent-feature-1160"><h2 class="title topictitle2" id="ariaid-title31"><code class="ph codeph">Localhost</code> target applies the <code class="ph codeph">puppet-agent</code> feature \(1.16.0\)</h2><div class="body"><p class="p">When the target hostname is <code class="ph codeph">localhost</code>, the <code class="ph codeph">puppet-agent</code> feature is automatically added to the target, because the Puppet agent installed with Bolt is present on the local system. This functionality is available on all transports, not just the local transport. \( <a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-1200" target="_blank">BOLT-1200</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title32" id="tasks-use-the-bolt-ruby-interpreter-only-for-localhost-1160"><h2 class="title topictitle2" id="ariaid-title32">Tasks use the Bolt Ruby interpreter only for <code class="ph codeph">localhost</code> \(1.16.0\)</h2><div class="body"><p class="p">Bolt sets its own installed Ruby as the default interpreter for all <code class="ph codeph">.rb</code> scripts running on <code class="ph codeph">localhost</code>. Previously, this default was used on all commands run over the local transport; it's now used when the hostname is <code class="ph codeph">localhost</code> regardless of the transport. \( <a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-1205" target="_blank">BOLT-1205</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title33" id="fact-indicates-whether-bolt-is-compiling-a-catalog-1160"><h2 class="title topictitle2" id="ariaid-title33">Fact indicates whether Bolt is compiling a catalog \(1.16.0\)</h2><div class="body"><p class="p">If Bolt is compiling a catalog, <code class="ph codeph">$facts['bolt']</code> is set to <code class="ph codeph">true</code>, allowing you to determine whether modules are being used from a Bolt catalog. \( <a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-1199" target="_blank">BOLT-1199</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title34" id="yaml-plans-1150"><h2 class="title topictitle2" id="ariaid-title34">YAML plans \(1.15.0\)</h2><div class="body"><p class="p">You can now write plans in the YAML language. YAML plans run a list of steps in order, which allows you to define simple workflows. Steps can contain embedded&nbsp;Puppet&nbsp;code expressions to add logic where necessary. For more details about YAML plans, see <a class="xref" href="writing_yaml_plans.html#">Writing plans in YAML</a>. For an example of a YAML plan in use, see the <a class="xref" href="https://puppet.com/blog/new-era-dawns-today-bolt-now-supports-yaml" target="_blank">Puppet blog</a>. \( <a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-1150" target="_blank">BOLT-1150</a>\)</p><p class="p">This version also adds analytics data collection about the number of steps and the return type of YAML plans. \( <a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-1193" target="_blank">BOLT-1193</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title35" id="support-for-red-hat-enterprise-linux-8-1150"><h2 class="title topictitle2" id="ariaid-title35">Support for Red Hat Enterprise Linux 8 \(1.15.0\)</h2><div class="body"><p class="p">A Bolt package is now available for RHEL 8. \( <a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-1204" target="_blank">BOLT-1204</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title36" id="improved-load-time-1150"><h2 class="title topictitle2" id="ariaid-title36">Improved load time \(1.15.0\)</h2><div class="body"><p class="p">Bolt startup is now more efficient. \( <a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-1119" target="_blank">BOLT-1119</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title37" id="details-about-resultandresultsetobjects-1150"><h2 class="title topictitle2" id="ariaid-title37">Details about <code class="ph codeph">Result</code>&nbsp;and&nbsp;<code class="ph codeph">ResultSet</code>&nbsp;objects \(1.15.0\)</h2><div class="body"><p class="p">The <code class="ph codeph">Result</code> and <code class="ph codeph">ResultSet</code> objects now include information in the JSON output about the action that generated the result. \( <a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-1125" target="_blank">BOLT-1125</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title38" id="inventory-warning-about-unexepected-keys-1150"><h2 class="title topictitle2" id="ariaid-title38">Inventory warning about unexepected keys \(1.15.0\)</h2><div class="body"><p class="p">An informative warning message is now logged when invalid <code class="ph codeph">group</code> or <code class="ph codeph">node</code> configuration keys are detected in the <code class="ph codeph">inventoryfile</code>. \( <a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-1017" target="_blank">BOLT-1017</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title39" id="boltspecrun-support-for-uploading-files-to-remote-systems-1150"><h2 class="title topictitle2" id="ariaid-title39"><code class="ph codeph">BoltSpec::Run</code> support for uploading files to remote systems \(1.15.0\)</h2><div class="body"><p class="p"><code class="ph codeph">BoltSpec::Run</code> now supports the <code class="ph codeph">upload_file</code> action. \( <a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-953" target="_blank">BOLT-953</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title40" id="support-for-puppet-device-modules-in-a-manifest-block-1140"><h2 class="title topictitle2" id="ariaid-title40">Support for Puppet device modules in a manifest block \(1.14.0\)</h2><div class="body"><p class="p">You can now apply Puppet code on targets that can't run a Puppet agent using the remote transport via a proxy. This is an experimental feature and might change in future minor \(y\) releases. \( <a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-645" target="_blank">BOLT-645</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title41" id="validation-and-error-handling-for-invalid-pcp-tokens-1140"><h2 class="title topictitle2" id="ariaid-title41">Validation and error handling for invalid PCP tokens \(1.14.0\)</h2><div class="body"><p class="p">The PCP transport <code class="ph codeph">token-file</code> configuration option now includes validation and a more helpful error message. \( <a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-1076" target="_blank">BOLT-1076</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title42" id="smb-file-transfer-on-windows-1130"><h2 class="title topictitle2" id="ariaid-title42">SMB file transfer on Windows \(1.13.0\)</h2><div class="body"><p class="p">When transferring files to a Windows host, you can now optionally use the SMB protocol to reduce transfer time. You must have either administrative rights to use an administrative share, like <code class="ph codeph">\\host\C$</code>, or use UNC style paths to access existing shares, like <code class="ph codeph">\\host\share</code>. You can use SMB file transfers only over HTTP, not HTTPS, and SMB3, which supports encryption, is not yet supported. \( <a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-153" target="_blank">BOLT-153</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title43" id="interpreter-configuration-option-1130"><h2 class="title topictitle2" id="ariaid-title43">Interpreter configuration option \(1.13.0\)</h2><div class="body"><p class="p">An <code class="ph codeph">interpreters</code> configuration option enables setting the interpreter that is used to execute a task based on file extension. This options lets you override the shebang defined in the task source code with the path to the executable on the remote system. \( <a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-146" target="_blank">BOLT-146</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title44" id="improved-error-handling-1130"><h2 class="title topictitle2" id="ariaid-title44">Improved error handling \(1.13.0\)</h2><div class="body"><p class="p">Clearer error messages now alert you when you use plan functions not meant to be called in apply blocks. \(<a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-1131" target="_blank">BOLT-1131</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title45" id="updated-project-directory-structure-1120"><h2 class="title topictitle2" id="ariaid-title45">Updated project directory structure \(1.12.0\)</h2><div class="body"><p class="p">Within your project directory, we now recommend using a directory called <code class="ph codeph">site-modules</code>, instead of the more ambiguously named <code class="ph codeph">site</code>, to contain any modules not intended to be managed with a Puppetfile. Both <code class="ph codeph">site-modules</code> and <code class="ph codeph">site</code> are included on the default modulepath to maintain backward compatibility. \( <a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-1108" target="_blank">BOLT-1108</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title46" id="bolt-puppetfile-show-modules-command-1120"><h2 class="title topictitle2" id="ariaid-title46"><code class="ph codeph">bolt puppetfile show-modules</code> command \(1.12.0\)</h2><div class="body"><p class="p">A new <code class="ph codeph">bolt puppetfile show-modules</code> command lists the modules, and their versions, installed in the current <code class="ph codeph">Boltdir</code>. \( <a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-1118" target="_blank">BOLT-1118</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title47" id="boltspecrun-helpers-accept-options-consistently-1120"><h2 class="title topictitle2" id="ariaid-title47"><code class="ph codeph">BoltSpec::Run</code> helpers accept options consistently \(1.12.0\)</h2><div class="body"><p class="p">All <code class="ph codeph">BoltSpec::Run</code> helpers now require the <code class="ph codeph">params</code> or <code class="ph codeph">arguments</code> argument to be passed. \( <a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-1057" target="_blank">BOLT-1057</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title48" id="bolt-task-show-displays-module-path-1110"><h2 class="title topictitle2" id="ariaid-title48"><code class="ph codeph">bolt task show</code> displays module path \(1.11.0\)</h2><div class="body"><p class="p">Task and plan list output now includes the module path to help you better understand why a task or plan is not included. \( <a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-1027" target="_blank">BOLT-1027</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title49" id="powershell-scripts-over-the-pcp-transport-1110"><h2 class="title topictitle2" id="ariaid-title49">PowerShell scripts over the PCP transport \(1.11.0\)</h2><div class="body"><p class="p">You can now run PowerShell scripts on Windows targets over the PCP transport. \( <a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-830" target="_blank">BOLT-830</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title50" id="rsa-keys-with-openssh-format-1110"><h2 class="title topictitle2" id="ariaid-title50">RSA keys with OpenSSH format \(1.11.0\)</h2><div class="body"><p class="p">RSA keys stored in the OpenSSH format can now be used for authentication with the SSH transport. \( <a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-1124" target="_blank">BOLT-1124</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title51" id="support-for-new-platforms-1110"><h2 class="title topictitle2" id="ariaid-title51">Support for new platforms \(1.11.0\)</h2><div class="body"><p class="p">Bolt packages are now available for these platforms:</p><ul class="ul"><li class="li"><p class="p">Fedora 28 and 29 \( <a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-978" target="_blank">BOLT-978</a>\)</p></li><li class="li"><p class="p">macOS 10.14 Mojave \( <a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-1040" target="_blank">BOLT-1040</a>\)</p></li></ul></div></article><article class="topic nested1" aria-labelledby="ariaid-title52" id="hyphens-allowed-in-aliases-and-group-names-1100"><h2 class="title topictitle2" id="ariaid-title52">Hyphens allowed in aliases and group names \(1.10.0\)</h2><div class="body"><p class="p">Node aliases and group names in the Bolt inventory can now contain hyphens. \(<a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-1022" target="_blank">BOLT-1022</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title53" id="improved-out-of-the-box-tasks-190"><h2 class="title topictitle2" id="ariaid-title53">Improved out-of-the-box tasks \(1.9.0\)</h2><div class="body"><p class="p">The <code class="ph codeph">package</code> and <code class="ph codeph">service</code> tasks now select task implementation based on available target features while their platform-specific implementations are private. \( <a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-1049" target="_blank">BOLT-1049</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title54" id="respect-multiple-puppetdb-server-urls-190"><h2 class="title topictitle2" id="ariaid-title54">Respect multiple PuppetDB <code class="ph codeph">server_urls</code> \(1.9.0\)</h2><div class="body"><p class="p">Bolt now tries to connect to all configured PuppetDB<code class="ph codeph">server_urls</code> before failing. \( <a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-938" target="_blank">BOLT-938</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title55" id="standard-library-functions-180"><h2 class="title topictitle2" id="ariaid-title55">Standard library functions \(1.8.0\)</h2><div class="body"><p class="p">Bolt now includes several standard library functions useful for writing plans, including:</p><ul class="ul"><li class="li"><p class="p"><code class="ph codeph">ctrl::sleep</code></p></li><li class="li"><p class="p"><code class="ph codeph">ctrl::do_until</code></p></li><li class="li"><p class="p"><code class="ph codeph">file::read</code></p></li><li class="li"><p class="p"><code class="ph codeph">file::write</code></p></li><li class="li"><p class="p"><code class="ph codeph">system::env</code></p></li></ul><p class="p">See&nbsp;<a class="xref" href="plan_functions.html#">Plan execution functions and standard libraries</a>&nbsp;for details. \( <a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-1054" target="_blank">BOLT-1054</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title56" id="configure-proxy-ssh-connections-through-jump-hosts-170"><h2 class="title topictitle2" id="ariaid-title56">Configure proxy SSH connections through jump hosts \(1.7.0\)</h2><div class="body"><p class="p">You can now configure proxy SSH connections through jump hosts from the inventory file with the <code class="ph codeph">proxyjump</code> SSH configuration option. \( <a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-1039" target="_blank">BOLT-1039</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title57" id="query-resource-states-from-a-plan-170"><h2 class="title topictitle2" id="ariaid-title57">Query resource states from a plan \(1.7.0\)</h2><div class="body"><p class="p">You can now query resource states from a plan with the <code class="ph codeph">get_resources</code> function. \( <a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-1035" target="_blank">BOLT-1035</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title58" id="specify-an-array-of-directories-in-modulepath-170"><h2 class="title topictitle2" id="ariaid-title58">Specify an array of directories in <code class="ph codeph">modulepath</code> \(1.7.0\)</h2><div class="body"><p class="p">You can now specify an array of directories for the <code class="ph codeph">modulepath</code> setting in <code class="ph codeph">bolt.yaml</code>, rather than just a string. This change enables using a single <code class="ph codeph">bolt.yaml</code> on both \*nix and Windows clients. \( <a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-817" target="_blank">BOLT-817</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title59" id="save-keystrokes-on-modulepath-inventoryfile-and-verbose-170"><h2 class="title topictitle2" id="ariaid-title59">Save keystrokes on <code class="ph codeph">modulepath</code>, <code class="ph codeph">inventoryfile</code>, and <code class="ph codeph">verbose</code> \(1.7.0\)</h2><div class="body"><p class="p">You can now use shortened command options for <code class="ph codeph">modulepath</code> \(<code class="ph codeph">-m</code>\), <code class="ph codeph">inventoryfile</code> \(<code class="ph codeph">-i</code>\), and <code class="ph codeph">verbose</code> \(<code class="ph codeph">-v</code>\). \( <a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-1047" target="_blank">BOLT-1047</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title60" id="remote-tasks-160"><h2 class="title topictitle2" id="ariaid-title60">Remote tasks \(1.6.0\)</h2><div class="body"><p class="p">You can now run tasks on a proxy target that remotely interacts with the real target, as defined by the <code class="ph codeph">run-on</code> option. Remote tasks are useful for targets like network devices that have limited shell environments, or cloud services driven only by HTTP APIs. Connection information for non-server targets, like HTTP endpoints, can be stored in inventory. \( <a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-791" target="_blank">BOLT-791</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title61" id="reboot-module-plan-160"><h2 class="title topictitle2" id="ariaid-title61"><code class="ph codeph">reboot</code> module plan \(1.6.0\)</h2><div class="body"><p class="p">Bolt now ships with the <a class="xref" href="https://forge.puppet.com/puppetlabs/reboot" target="_blank"><code class="ph codeph">reboot</code> module</a>, and that module now provides a plan that reboots targets and waits for them to become available. \( <a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-459" target="_blank">BOLT-459</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title62" id="local-transport-on-windows-160"><h2 class="title topictitle2" id="ariaid-title62">Local transport on Windows \(1.6.0\)</h2><div class="body"><p class="p">The <code class="ph codeph">local</code> transport option is now supported on Windows. \( <a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-608" target="_blank">BOLT-608</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title63" id="bolt-shim-module-contents-marked-as-sensitive-160"><h2 class="title topictitle2" id="ariaid-title63"><code class="ph codeph">bolt_shim</code> module contents marked as sensitive \(1.6.0\)</h2><div class="body"><p class="p">The <code class="ph codeph">bolt_shim</code> module that enables using Bolt with PE now marks file content as sensitive, preventing it from being logged or stored in a database. \( <a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-815" target="_blank">BOLT-815</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title64" id="node-aliases-150"><h2 class="title topictitle2" id="ariaid-title64">Node aliases \(1.5.0\)</h2><div class="body"><p class="p">You can now specify aliases for nodes in your inventory and then use the aliases to refer to specific nodes. \( <a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-510" target="_blank">BOLT-510</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title65" id="run-apply-with-pe-orchestrator-without-installing-puppet-agent-module-150"><h2 class="title topictitle2" id="ariaid-title65">Run <code class="ph codeph">apply</code> with PE orchestrator without installing <code class="ph codeph">puppet_agent</code> module \(1.5.0\)</h2><div class="body"><p class="p">Bolt no longer requires installing the <code class="ph codeph">puppet_agent</code> module in PE in order to run <code class="ph codeph">apply</code> actions with the PE orchestrator. \( <a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-940" target="_blank">BOLT-940</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title66" id="bolt-apply-with-orchestrator140"><h2 class="title topictitle2" id="ariaid-title66">Bolt <code class="ph codeph">apply</code> with orchestrator&nbsp;\(1.4.0\)</h2><div class="body"><p class="p">A new <code class="ph codeph">puppetlabs-apply_helper</code> module enables using Bolt <code class="ph codeph">apply</code> with orchestrator.&nbsp;For details, see the <a class="xref" href="https://forge.puppet.com/puppetlabs/apply_helpers" target="_blank">module README</a>. \( <a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-941" target="_blank">BOLT-941</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title67" id="add-targets-to-a-group-140"><h2 class="title topictitle2" id="ariaid-title67">Add targets to a group \(1.4.0\)</h2><div class="body"><p class="p">A new <code class="ph codeph">add_to_group</code> function allows you to add targets to an inventory group during plan execution. \( <a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-942" target="_blank">BOLT-942</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title68" id="additional-plan-test-helpers-140"><h2 class="title topictitle2" id="ariaid-title68">Additional plan test helpers \(1.4.0\)</h2><div class="body"><p class="p">The <code class="ph codeph">BoltSpec::Plans</code> library now supports unit testing plans that use the <code class="ph codeph">_run_as</code> parameter, <code class="ph codeph">apply</code>, <code class="ph codeph">run_command</code>, <code class="ph codeph">run_script</code>, and <code class="ph codeph">upload_file</code>. \( <a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-984" target="_blank">BOLT-984</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title69" id="data-collection-about-applied-catalogs-140"><h2 class="title topictitle2" id="ariaid-title69">Data collection about applied catalogs \(1.4.0\)</h2><div class="body"><p class="p">If analytics data collection is enabled, we now collect randomized info about the number of statements in an apply block, and how many resources that produces for each target. \( <a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-644" target="_blank">BOLT-644</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title70" id="docker-transport-for-running-commands-on-containers-130"><h2 class="title topictitle2" id="ariaid-title70">Docker transport for running commands on containers \(1.3.0\)</h2><div class="body"><p class="p">A new Docker transport option enables running commands on container instances with the Docker API. The Docker transport is experimental because the capabilities and role of the Docker API might change.\( <a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-962" target="_blank">BOLT-962</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title71" id="wait-until-all-target-nodes-accept-connections-130"><h2 class="title topictitle2" id="ariaid-title71">Wait until all target nodes accept connections \(1.3.0\)</h2><div class="body"><p class="p">A new <code class="ph codeph">wait_until_available</code> function waits until all targets are accepting connections, or triggers an error if the command times out. \( <a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-956" target="_blank">BOLT-956</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title72" id="apply-puppet-manifest-code-with-bolt-apply-command-120"><h2 class="title topictitle2" id="ariaid-title72">Apply Puppet manifest code with bolt apply command \(1.2.0\)</h2><div class="body"><p class="p">The command <code class="ph codeph">bolt&nbsp;apply</code> has been added to apply Puppet manifest code on targets without wrapping them in an <code class="ph codeph">apply()</code> block in a plan.</p><p class="p"><strong class="ph b">Note:</strong> This command is in development and subject to change.</p><p class="p"><a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-858" target="_blank">\(BOLT-858</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title73" id="python-and-ruby-helper-libraries-for-tasks-120"><h2 class="title topictitle2" id="ariaid-title73">Python and Ruby helper libraries for tasks \(1.2.0\)</h2><div class="body"><p class="p">Two new libraries have been added to help you write tasks in Ruby and Python:</p><ul class="ul"><li class="li"><p class="p"><a class="xref" href="https://github.com/puppetlabs/puppetlabs-ruby_task_helper" target="_blank">https://github.com/puppetlabs/puppetlabs-ruby\_task\_helper</a></p></li><li class="li"><p class="p"><a class="xref" href="https://github.com/puppetlabs/puppetlabs-python_task_helper" target="_blank">https://github.com/puppetlabs/puppetlabs-python\_task\_helper</a></p></li></ul><p class="p">Use these libraries to parse task input, catch errors, and produce task output. For details, see <a class="xref" href="https://puppet.com/docs/bolt/1.x/writing_tasks.html#task-helpers" target="_blank">Task Helpers</a>. \( <a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-906" target="_blank">BOLT-906</a> and <a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-907" target="_blank">BOLT-907</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title74" id="redacted-passwords-for-printed-target-objects-120"><h2 class="title topictitle2" id="ariaid-title74">Redacted passwords for printed target objects \(1.2.0\)</h2><div class="body"><p class="p">When the <code class="ph codeph">Target</code> object in a Bolt plan is printed, it includes only the host, user, port, and protocol used. The values for <code class="ph codeph">password</code> and <code class="ph codeph">sudo-password</code> are redacted. <a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-944" target="_blank">\(BOLT-944</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title75" id="share-code-between-tasks-110"><h2 class="title topictitle2" id="ariaid-title75">Share code between tasks \(1.1.0\)</h2><div class="body"><p class="p">Bolt includes the ability to share code between tasks. A task can include a list of files that it requires, from any module, that it copies over and makes available via a \_installdir parameter. This feature is also supported in Puppet Enterprise 2019.0. For more information see, <a class="xref" href="writing_tasks.html#">Sharing task code</a>. \( <a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-755" target="_blank">BOLT-755</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title76" id="upgraded-winrm-gem-dependencies-110"><h2 class="title topictitle2" id="ariaid-title76">Upgraded WinRM gem dependencies \(1.1.0\)</h2><div class="body"><p class="p">The following gem dependencies have been upgraded to fix the connection between OMI server on Linux and the WinRM transport:</p><ul class="ul"><li class="li"><p class="p">winrm 2.3.0</p></li><li class="li"><p class="p">winrm-fs 1.3.1</p></li><li class="li"><p class="p">json-schema 2.8.1</p></li></ul><p class="p">\(<a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-929" target="_blank">BOLT-929</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title77" id="mark-internal-tasks-as-private-110"><h2 class="title topictitle2" id="ariaid-title77">Mark internal tasks as private \(1.1.0\)</h2><div class="body"><p class="p">In the task metadata, you can mark internal tasks as private and prevent them from appearing in task list UIs. \( <a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-734" target="_blank">BOLT-734</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title78" id="upload-directories-via-plans-110"><h2 class="title topictitle2" id="ariaid-title78">Upload directories via plans \(1.1.0\)</h2><div class="body"><p class="p">The <code class="ph codeph">bolt file upload</code> command and <code class="ph codeph">upload_file</code> action now upload directories. For use over the PCP transport these commands require puppetlabs-bolt\_shim 0.2.0 or later. \( <a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-191" target="_blank">BOLT-191</a>\)</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title79" id="support-for-public-key-signature-systemed25519-110"><h2 class="title topictitle2" id="ariaid-title79">Support for public-key signature system&nbsp;ed25519 \(1.1.0\)</h2><div class="body"><p class="p">The ed25519 key type is now supported out-of-the-box in Bolt packages. \( <a class="xref" href="https://tickets.puppetlabs.com/browse/BOLT-380" target="_blank">BOLT-380</a>\)</p><p class="p"><strong class="ph b">Parent topic:</strong><a class="xref" href="bolt_release_notes.html">Bolt release notes</a></p></div></article></article></main></body></html>