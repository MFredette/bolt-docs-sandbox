<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="copyright" content="(C) Copyright 2019"><meta name="DC.rights.owner" content="(C) Copyright 2019"><meta name="DC.type" content="topic"><meta name="DC.creator" content="Melissa Amos <melissa.amos@puppet.com\&gt;"><meta name="DC.format" content="HTML5"><meta name="DC.identifier" content="project-directories"><link rel="stylesheet" type="text/css" href="commonltr.css"><title>Project directories</title></head><body id="project-directories"><main role="main"><article role="article" aria-labelledby="ariaid-title1"><h1 class="title topictitle1" id="ariaid-title1">Project directories</h1><div class="body"><p class="p">Bolt runs in the context of a project directory or a <code class="ph codeph">Boltdir</code>. This directory contains all of the configuration, code, and data loaded by Bolt.</p><p class="p">The project directory structure makes it easy to share Bolt code by committing the project directory to Git. You can then check different repositories of Bolt code into different directories in order to manage various applications.</p><p class="p"><strong class="ph b">Parent topic:</strong><a class="xref" href="configuring_bolt.html">Configuring Bolt</a></p></div><article class="topic nested1" aria-labelledby="ariaid-title2" id="types-of-project-directories"><h2 class="title topictitle2" id="ariaid-title2">Types of project directories</h2><div class="body"><p class="p">There are three types of project directories that you can use depending on how you're using Bolt.</p></div><article class="topic nested2" aria-labelledby="ariaid-title3" id="local-project-directory"><h3 class="title topictitle3" id="ariaid-title3">Local project directory</h3><div class="body"><p class="p">Bolt treats a directory containing a <code class="ph codeph">bolt.yaml</code> file as a project directory. Use this type of directory to track and share management code in a dedicated repository.</p><p class="p"><strong class="ph b">Tip:</strong> You can use an existing control repo as a Bolt project directory by adding a <code class="ph codeph">bolt.yaml</code> file to it and configuring the <code class="ph codeph">modulepath</code> to match the <code class="ph codeph">modulepath</code> in <code class="ph codeph">environment.conf</code>.</p><p class="p">A project directory of this type has a structure like:</p><pre class="pre codeblock"><code>project/
├── Puppetfile
├── bolt.yaml
├── data
│   └── common.yaml
├── inventory.yaml
└── site-modules
    └── project
        ├── manifests
        │   └── my_class.pp
        ├── plans
        │   ├── deploy.pp
        │   └── diagnose.pp
        └── tasks
            ├── init.json
            └── init.py</code></pre></div></article><article class="topic nested2" aria-labelledby="ariaid-title4" id="embedded-project-directory"><h3 class="title topictitle3" id="ariaid-title4">Embedded project directory</h3><div class="body"><p class="p">Bolt treats a directory containing a subdirectory called <code class="ph codeph">Boltdir</code> as a project directory. Use this type of directory to embed Bolt management code into another repo.</p><p class="p">For example, you can store management code in the same repo as the application it manages without cluttering up the top level with multiple files. This structure allows you to run Bolt from anywhere in the application's directory structure.</p><p class="p">A project with an embedded project directory has a structure like:</p><pre class="pre codeblock"><code>project/
├── Boltdir
│   ├── Puppetfile
│   ├── bolt.yaml
│   ├── data
│   │   └── common.yaml
│   ├── inventory.yaml
│   └── site-modules
│       └── project
│           ├── manifests
│           │   └── my_class.pp
│           ├── plans
│           │   ├── deploy.pp
│           │   └── diagnose.pp
│           └── tasks
│               ├── init.json
│               └── init.py
├── src #non Bolt source code for the project
└── tests #non Bolt tests for the project</code></pre><p class="p"><strong class="ph b">Note:</strong> If a directory contains both <code class="ph codeph">Boltdir</code> and <code class="ph codeph">bolt.yaml</code>, the <code class="ph codeph">Boltdir</code> directory is used as the project directory rather then the parent.</p></div></article><article class="topic nested2" aria-labelledby="ariaid-title5" id="user-project-directory"><h3 class="title topictitle3" id="ariaid-title5">User project directory</h3><div class="body"><p class="p">If Bolt can't find a project directory based on <code class="ph codeph">Boltdir</code> or <code class="ph codeph">bolt.yaml</code>, it uses <code class="ph codeph">~/.puppetlabs/bolt</code> as the project directory. Use this type of directory if you have a single set of Bolt code and data that you use across all projects.</p></div></article></article><article class="topic nested1" aria-labelledby="ariaid-title6" id="how-the-project-directory-is-chosen"><h2 class="title topictitle2" id="ariaid-title6">How the project directory is chosen</h2><div class="body"><p class="p">Bolt uses these methods, in order, to choose a project directory.</p><ol class="ol"><li class="li"><p class="p">Manually specified</p><p class="p">You can specify on the command line what directory Bolt should use with <code class="ph codeph">--boltdir &lt;DIRECTORY_PATH&gt;</code>. There is not an equivalent configuration setting because the project directory must be known in order to load configuration.</p></li><li class="li"><p class="p">Parent directory</p><p class="p">Bolt traverses parents of the current directory until it finds a directory containing a <code class="ph codeph">Boltdir</code> or <code class="ph codeph">bolt.yaml</code>, or it reaches the root of the file system.</p></li><li class="li"><p class="p">User project directory</p><p class="p">If no directory is specified manually or found in a parent directory, the user project directory is used.</p></li></ol></div></article><article class="topic nested1" aria-labelledby="ariaid-title7" id="project-directory-structure"><h2 class="title topictitle2" id="ariaid-title7">Project directory structure</h2><div class="body"><p class="p">The default paths for all Bolt configuration, code, and data are relative to the modulepath.</p><table class="table"><caption></caption><colgroup><col><col></colgroup><thead class="thead"><tr class="row"><th class="entry" id="project-directory-structure__entry__1">Directory</th><th class="entry" id="project-directory-structure__entry__2">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry" headers="project-directory-structure__entry__1"><code class="ph codeph">[bolt.yaml](bolt_configuration_options.md)</code></td><td class="entry" headers="project-directory-structure__entry__2">Contains configuration options for Bolt.</td></tr><tr class="row"><td class="entry" headers="project-directory-structure__entry__1"><code class="ph codeph">hiera.yaml</code></td><td class="entry" headers="project-directory-structure__entry__2">Contains the Hiera config to use for node-specific data when using <code class="ph codeph">apply</code>.</td></tr><tr class="row"><td class="entry" headers="project-directory-structure__entry__1"><code class="ph codeph">[inventory.yaml](inventory_file.md)</code></td><td class="entry" headers="project-directory-structure__entry__2">Contains a list of known targets and target specific data.</td></tr><tr class="row"><td class="entry" headers="project-directory-structure__entry__1"><code class="ph codeph">[Puppetfile](bolt_installing_modules.md#)</code></td><td class="entry" headers="project-directory-structure__entry__2">Specifies which modules should be installed for the project.</td></tr><tr class="row"><td class="entry" headers="project-directory-structure__entry__1"><code class="ph codeph">[modules/](bolt_installing_modules.md#)</code></td><td class="entry" headers="project-directory-structure__entry__2">The directory where modules from the <code class="ph codeph">Puppetfile</code> are installed. In most cases, these modules should not be edited locally.</td></tr><tr class="row"><td class="entry" headers="project-directory-structure__entry__1"><code class="ph codeph">[site-modules](writing_tasks_and_plans.md)</code></td><td class="entry" headers="project-directory-structure__entry__2">Local modules that are edited and versioned with the project directory.</td></tr><tr class="row"><td class="entry" headers="project-directory-structure__entry__1"><code class="ph codeph">data/</code></td><td class="entry" headers="project-directory-structure__entry__2">The standard path to store static Hiera data files.</td></tr></tbody></table></div></article></article></main></body></html>